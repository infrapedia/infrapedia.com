(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088bb726"],{"2f1d":function(e,t,s){"use strict";var a=s("9051"),r=s.n(a);r.a},9051:function(e,t,s){},d663:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-popover",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],attrs:{placement:"bottom-start",width:"420",transition:"el-zoom-in-top",trigger:"manual",value:e.isResultsVisible},on:{"update:value":function(t){e.isResultsVisible=t}}},[s("el-card",{staticClass:"p0 no-border",class:{dark:e.dark},attrs:{shadow:"never"}},[s("ul",{staticClass:"w-fit-full h80 no-outline no-selectable",class:{dark:e.dark},attrs:{role:"list"}},[e._l(e.searchResults.r,(function(t,a){return s("li",{key:a+t,staticClass:"pt2 pb2 pr5 pl5 cursor-pointer seamless-hoverbg no-outline",class:{dark:e.dark,light:!e.dark},attrs:{tabindex:"0",role:"listitem"},on:{click:function(s){return e.handlePlaceSelection(t)},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")&&e._k(s.keyCode,"space",32,s.key,[" ","Spacebar"])?null:e.handlePlaceSelection(t)}}},[t.address&&t.address.length&&""!==t.address[0].city?s("div",{staticClass:"inline-block"},[e._v(" "+e._s(t.name)+" in "),e._l(t.address,(function(t,a){return s("small",{key:t.state+a},[e._v(" "+e._s(t.city)+", "+e._s(t.state)+"; ")])}))],2):s("span",[e._v(" "+e._s(t.name)+" ")]),e._v(" - "),s("small",{staticClass:"capitalize"},[e._v(e._s(e.geResultType(t)))]),t.premium&&"true"==t.premium?s("span",{staticClass:"w22 p1 h6 partner round flo-right vertical-align mt-2"},[e._v(" Partner "),s("fa",{staticClass:"sm-icon ml2",attrs:{icon:["fas","star"]}})],1):e._e()])})),e.searchResults.places.length>0?s("el-divider",{staticClass:"m0",class:{dark:e.dark}}):e._e(),e._l(e.searchResults.places,(function(t,a){return s("li",{key:a,staticClass:"pt2 pb2 pr5 pl5 cursor-pointer seamless-hoverbg no-outline",class:{dark:e.dark,light:!e.dark},attrs:{tabindex:"0",role:"listitem"},on:{click:function(s){return e.handlePlaceSelection(t)},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")&&e._k(s.keyCode,"space",32,s.key,[" ","Spacebar"])?null:e.handlePlaceSelection(t)}}},[s("span",[e._v(" "+e._s(t.name)+" ")])])}))],2)]),s("div",{attrs:{slot:"reference",role:"search"},slot:"reference"},[s("el-input",{class:{dark:e.dark},attrs:{placeholder:"Search in "+e.categories.selected},on:{blur:e.loseFocus,focus:e.setFocus,input:e.getQueryData},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[s("el-select",{staticClass:"w10 search-navbar-select",class:{dark:e.dark},attrs:{slot:"prepend",id:"search-select-navbar",placeholder:""},on:{change:function(t){return e.getQueryData(e.search)}},slot:"prepend",model:{value:e.categories.selected,callback:function(t){e.$set(e.categories,"selected",t)},expression:"categories.selected"}},e._l(e.categories.list,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})})),1),e.isFocused?s("fa",{staticClass:"xsm-icon vertical-align mt3 mr3",attrs:{slot:"suffix",icon:["fas","caret-up"]},slot:"suffix"}):s("fa",{staticClass:"xsm-icon vertical-align mt3 mr3 hidden-md-and-down",attrs:{slot:"suffix",icon:["fas","caret-down"]},slot:"suffix"}),s("fa",{staticClass:"xsm-icon vertical-align mt3 mr2",attrs:{slot:"suffix",icon:["fas","times"]},on:{click:function(t){return t.stopPropagation(),e.clearSearch(t)}},slot:"suffix"})],1)],1)],1)},r=[],i=(s("99af"),s("4de4"),s("4160"),s("a630"),s("b0c0"),s("ac1f"),s("3ca3"),s("841c"),s("159b"),s("2909")),c=(s("96cf"),s("1da1")),n=s("46cf"),l=s("33b5"),o=s("39a1"),u=s("f8dc"),d=["All","CLS","IXPs","Cables","Terrestrial","Facilities","Connections","Organizations"],h=d,p=s("e67d"),f=s.n(p),k={data:function(){return{search:"",categories:{list:h,selected:"All"},isFocused:!1,searchResults:{r:[],places:[]},isResultsVisible:!1}},computed:{dark:function(){return this.$store.state.isDark}},methods:{getQueryData:Object(l["a"])(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.$store.dispatch("getSearchQueryData",{s:t,type:this.categories.selected});case 4:return s=e.sent,e.next=7,this.$store.dispatch("getSearchQueryDataMapbox",t);case 7:a=e.sent,Array.from(a.features).forEach((function(e){return e.name=e.place_name})),s&&s.data.length&&(this.searchResults.r=s.data.filter((function(e){return e}))),this.searchResults.places=a.features,this.isResultsVisible=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),820),geResultType:function(e){var t=e.t;return"cable"==e.t.toLowerCase()&&(t=e.terrestrial?"terrestrial-network":"subsea-cable"),t},close:function(){this.isResultsVisible=!1},loseFocus:function(){this.isFocused=!1},clearSearch:function(){this.close(),this.search="",this.searchResults={r:[],places:[]}},setFocus:function(){this.isFocused=!0,(this.searchResults.r.length>0||this.searchResults.places.length>0)&&(this.isResultsVisible=!0)},handlePlaceSelection:function(e){if(e.geometry){var t=[];e.bbox?t=e.bbox:e.center&&(t=[].concat(Object(i["a"])(e.center),Object(i["a"])(e.center))),t.length&&this.$store.commit("".concat(o["e"]),t),n["a"].$emit(u["c"],{id:e.id,type:"city"})}else this.$emit(u["f"],{id:e.id?e.id:e._id,option:e.type?e.type:e.t?"groups"==e.t?"networks":"cable"==e.t?e.terrestrial?"subsea-cable":"terrestrial-network":e.t:e.t});this.close()}},directives:{ClickOutside:f.a}},b=k,m=(s("2f1d"),s("2877")),g=Object(m["a"])(b,a,r,!1,null,"be9f5436",null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-088bb726.f846ee05.js.map