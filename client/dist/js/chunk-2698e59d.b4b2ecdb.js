(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2698e59d"],{"1a12":function(e,t,a){"use strict";var s=a("faa1"),n=a.n(s);n.a},"3ec2":function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));a("99af"),a("caad"),a("a15b"),a("d3b7"),a("ac1f"),a("6062"),a("2532"),a("3ca3"),a("5319"),a("1276"),a("498a"),a("ddb0");var s=a("5530"),n=a("2909"),r=a("2c8b"),i=a("1315"),o={title:"Capacity Buy Request",date:"",small:"A Capacity purchase request has been received from the following user:",reference:"",Organization:["company",""],Name:["fullname",""],"E-mail address":["email",""],small_two:"The user has the following request:",Element:["element",""],Type:["type",""],"Capacity requirement":["capacity",0],From:["address.pointA",""],To:["address.pointB",""],Message:["message",""]},c={title:"Transit Buy Request",date:"",small:"A Transit purchase request has been received from the following user:",reference:"",Organization:["company",""],Name:["fullname",""],"E-mail address":["email",""],small_two:"The user has the following request:",Element:["element",""],Type:["type",""],"Location(s)":["transitIP",""],"Transit Capacity":["capacity",0],Message:["message",""]},l={title:"Data Center Buy Request",date:"",small:"A Data Center purchase request has been received from the following user:",reference:"",Organization:["company",""],Name:["fullname",""],"E-mail address":["email",""],small_two:"The user has the following request:",Element:["element",""],Type:["type",""],"Rack Total":["totalRack",0],"Custom Request":["custom",!1],Message:["message",""]},u={title:"General Buy Request",date:"",small:"A (general) purchase request has been received from the following user:",reference:"",Organization:["company",""],Name:["fullname",""],"E-mail address":["email",""],small_two:"The user has the following request:",Element:["element",""],Type:["type",""],Message:["message",""]};function p(e,t){var a=e.split(t);return a[1]}function d(e,t){var a=p(e.message,t).split('<p style="font-size: 16px; color: #323232; text-transform: capitalize;">'),s=a[1].split("asked to buy an amount")[1].split("for"),n=s[0].split("of")[1],r=s[1].split(".")[0].split("("),i=a[1].split("From pointA"),o="";if(r.length>=3?r=r[2].split(")")[0]:2==r.length&&(r=r[1].split(")")[0]),r=r.toLowerCase(),"backbone"==r){var c=i[1].split("to");o="<strong>Capacity requirement:</strong> ".concat(n,"<p><strong>From:</strong> ").concat(c[1].replace("pointB",""),"</p> <p> <strong>To:</strong> ").concat(c[0].replace("to",""),"</p>")}else if("datacenter"==r){var l=i[0].split("for")[1].split("</p>")[0].split("(")[0];o="<strong>Data Center Space</strong> <br> <strong>Facility:</strong> ".concat(l," <br> <strong> Rack total: </strong> ").concat(n.split("rack total")[0])}return{request:o,rgDate:e.rgDate,status:e.status,message:e.message,subject:"".concat(p(e.message,t).split("AI: asked to buy an amount of")[1].split(").")[0]+")")}}function m(e,t){var a=p(e.message,t),s=e.message.includes("Custom Request: true"),n=a.split("Type:")[1].split('<p style="font-size: 14px">')[1],r=a.split("Type:")[1].split('<p style="font-size: 14px">')[1],i=p(e.message,t).split("Element:")[1].split("<p style")[0],o=e.message.split("Buy Request")[0].split('">')[1].trim().replace(" ","").toLowerCase();if("datacenter"==o)s?(n="<strong>Data Center Space </strong> <br> <strong> Facility: </strong> ".concat(i," <br> This request has custom requirements. <br> Contact Infrapedia's team for further assistance"),r="Data Center Space Custom Request for ".concat(i.trim())):(n="<strong>Data Center Space</strong> <br> <strong> Facility: </strong> ".concat(i," <strong>Rack Total: </strong> ").concat(n.split(":")[1].replace("</p>","")),r="".concat(r.split(":")[1].replace("</p>","")," racks total for ").concat(i.trim()));else if("capacity"==o){var c=e.message.split("From: ")[1].split("</p>")[0],l=e.message.split("To: ")[1].split("</p>")[0];n="<strong>Capacity requirement:</strong> ".concat(n.split(":")[1].replace("</p>",""),"<p><strong>From:</strong> ").concat(c,"</p> <p> <strong>To:</strong> ").concat(l,"</p>"),r="".concat(r.split(":")[1].replace("</p>","")," for ").concat(i.trim())}else if("transit"==o){var u=e.message.split("Transit Capacity: ")[1].split("</p>")[0];n="<strong>IP Transit Capacity: </strong> ".concat(u," <br> <strong> Facility: </strong> ").concat(i),r="".concat(u," for  ").concat(p(e.message,t).split("Element:")[1].split("<p style")[0].replace("</p>","").trim())}else{if("general"!=o)return!1;n="<strong> This a general request for: </strong> ".concat(i," <br> Contact Infrapedia's team for further assistance"),r="General request for ".concat(i.trim())}return{request:n,subject:r,rgDate:e.rgDate,status:e.status,message:e.message}}function f(e){var t={old:"sent you a message: </p>",new:"The user has the following request:</p>"};return p(e.message,t.new)?m(e,t.new):!!p(e.message,t.old)&&d(e,t.old)}function g(e){var t=e.data,a=e.format,s=e.userID,o=Object(r["a"])(i["DateTime"].local()),c=new Set,l=null,p=null;for(var d in"backbone"==t.buyType.toLowerCase()&&t.address.pointA&&t.address.pointB&&(l=t.address.pointA,p=t.address.pointB),a)for(var m in t)"string"==typeof u[d]?"date"==d?c.add('<p style="font-size: 16px;"> Date: '.concat(o,"</p>")):"title"==d?c.add('<h2 style="font-size= 24px;">'.concat(a[d],"</h2><br/>")):"reference"==d?c.add('<p style="font-size: 14px;">Reference: '.concat(s,"</p>")):c.add('<p style="font-size: 14px; font-weight: bold; margin-top: 3rem;">'.concat(a[d],"</p>")):a[d][0]==m?"Message"==d?c.add('<p style="font-size: 14px;">'.concat(d,':</p> <p style="font-size: 14px; white-space: pre-wrap;"> ').concat(t[m],"</p>")):c.add('<p style="font-size: 14px">'.concat(d,": ").concat(t[m],"</p>")):"From"!=d&&"To"!=d||c.add('<p style="font-size: 14px">'.concat(d,": ").concat("To"==d?p:l,"</p>"));return"".concat(Object(n["a"])(c).join(""))}function h(e){var t=e.data,a=e.userID,n="",r={data:t,userID:a};switch(t.buyType.toLocaleLowerCase()){case"transit":n=g(Object(s["a"])(Object(s["a"])({},r),{},{format:c}));break;case"datacenter":n=g(Object(s["a"])(Object(s["a"])({},r),{},{format:l}));break;case"other":n=g(Object(s["a"])(Object(s["a"])({},r),{},{format:u}));break;default:n=g(Object(s["a"])(Object(s["a"])({},r),{},{format:o}));break}return n}},"450f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeSheet,expression:"closeSheet"}]},[a("div",{staticClass:"text-center h-fit-full flex align-items-center",attrs:{"aria-haspopup":"true"}},[a("el-button",{staticClass:"drawer-opener fs-small font-regular mt-1",class:{"text-white--hsl":e.dark},attrs:{type:"text"},on:{click:e.toggleVisibility}},[e._v(" Market Place "),a("i",{staticClass:"el-icon-arrow-down icon sm-icon",attrs:{"aria-hidden":"true"}})]),a("transition",{attrs:{tag:"div","enter-active-class":"animated faster slideInDown","leave-active-class":"animated faster slideOutUp",mode:"out-in"}},[e.isOpen?a("div",{staticClass:"wrapper flex column bg-white pr6 pl6 pt12",class:{"bg-white":!e.dark,"bg-charcoal":e.dark}},[a("h1",{staticClass:"title w-fit-full mb8"},[e._v("Community Market Place")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"w-fit-full",class:{dark:e.dark},attrs:{data:e.marketplaceData,id:"marketplace-banner-table",height:120,border:"",size:"small","max-height":"620px",stripe:""}},[a("el-table-column",{attrs:{label:"Date",prop:"rgDate",formatter:e.formatDate}}),a("el-table-column",{attrs:{label:"Request"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.request)}})]}}],null,!1,2496109925)}),a("el-table-column",{attrs:{prop:"status",label:"Status"}})],1)],1):e._e()])],1)])},n=[],r=(a("4de4"),a("d81d"),a("96cf"),a("1da1")),i=a("e67d"),o=a.n(i),c=a("2c8b"),l=a("3ec2"),u=(a("b0c0"),a("780a")),p=a("a4dc"),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("".concat(p["a"].url,"/marketplace/list"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m={components:{},data:function(){return{marketplaceData:[],isSendingData:!1,catchaVerified:null,isOpen:!1,loading:!1,dialog:{isVisible:!1,rawMessage:null,form:{name:"",email:"",subject:"",message:"",organization:""}}}},computed:{dark:function(){return this.$store.state.isDark}},watch:{isOpen:function(e){e&&this.getMarketPlace()}},methods:{handleCatchaVerification:function(e){e&&(this.catchaVerified=!0)},getMarketPlace:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,d();case 3:a=t.sent,a&&a.data&&a.data.r&&(e.marketplaceData=a.data.r.map(l["b"]).filter((function(e){return e}))),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},formatDate:function(e,t,a){return Object(c["a"])(a)},toggleVisibility:function(){this.isOpen=!this.isOpen},closeSheet:function(){this.dialog.isVisible||(this.isOpen=!1)}},directives:{ClickOutside:o.a}},f=m,g=(a("1a12"),a("2877")),h=Object(g["a"])(f,s,n,!1,null,"867da8c2",null);t["default"]=h.exports},e67d:function(e,t){function a(e){return"function"===typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function s(e,t){if(!e||!t)return!1;for(var a=0,s=t.length;a<s;a++)try{if(e.contains(t[a]))return!0;if(t[a].contains(e))return!1}catch(n){return!1}return!1}function n(e){return"undefined"!==typeof e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,r){if(!a(t))return;function i(t){if(r.context){var a=t.path||t.composedPath&&t.composedPath();a&&a.length>0&&a.unshift(t.target),e.contains(t.target)||s(r.context.popupItem,a)||e.__vueClickOutside__.callback(t)}}e.__vueClickOutside__={handler:i,callback:t.value};const o="ontouchstart"in document.documentElement?"touchstart":"click";!n(r)&&document.addEventListener(o,i)},update:function(e,t){a(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,a){const s="ontouchstart"in document.documentElement?"touchstart":"click";!n(a)&&e.__vueClickOutside__&&document.removeEventListener(s,e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}},faa1:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2698e59d.b4b2ecdb.js.map