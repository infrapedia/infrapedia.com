(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc681"],{"4e93":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.isDialog,width:"40%",top:"12vh","custom-class":t.customDialogClass,"close-on-click-modal":!1,"before-close":t.closeDialog},on:{"update:visible":function(e){t.isDialog=e}}},[i("header",{staticClass:"header p0 no-selectable",attrs:{slot:"title"},slot:"title"},[i("h1",{staticClass:"inline-block font-semibold fs-xlarge"},[i("span",{staticClass:"capitalize"},[t._v("Edit information")])])]),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",staticClass:"pr2 pl2"},[i("el-row",{attrs:{gutter:15}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"File"}},[i("dragger",{staticClass:"mt12",attrs:{"is-raw-file":!0},on:{"raw-file":t.setFile}})],1)],1),t.fileSelected?i("el-alert",{staticClass:"mt4",attrs:{type:"success",title:"File loaded correctly",closable:!1,"show-icon":""}}):t._e(),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"Information"}},[i("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:t.form.information,callback:function(e){t.$set(t.form,"information",e)},expression:"form.information"}})],1)],1),i("el-col",{attrs:{span:24}},[i("vue-recaptcha",{ref:"catpcha",attrs:{sitekey:t.siteKey,loadRecaptchaScript:!0},on:{verify:t.handleCatchaVerification,error:function(){return t.catchaVerified=!1},expired:function(){return t.catchaVerified=!1}}})],1)],1)],1),i("footer",{staticClass:"footer flex wrap justify-content-end pr0 pl6 mt4"},[i("div",[i("el-button",{staticClass:"mr2",attrs:{plain:"",type:"info"},on:{click:t.closeDialog}},[t._v("Cancel")]),i("el-button",{staticClass:"w28",attrs:{disabled:t.isFormUncomplete,type:"primary",plain:"",loading:t.isSendingData},on:{click:t.submitForm,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.submitForm(e)}}},[t._v("Send")])],1)])],1)},r=[],s=(i("4de4"),i("d81d"),i("b64b"),i("d3b7"),i("5530")),n=(i("96cf"),i("1da1")),o=i("3d24"),l=i("e096"),c=i("1b83"),f=i("ceaf"),u={components:{VueRecaptcha:l["a"],Dragger:function(){return Promise.resolve().then(i.bind(null,"82bb"))}},data:function(){return{siteKey:c["a"],loading:!1,isSendingData:!1,catchaVerified:null,fileSelected:!1,form:{information:"",file:""}}},props:{isDialog:{type:Boolean,required:!0}},watch:{isVisible:function(t){if(!t)return this.$refs.catpcha.reset()}},computed:{dark:function(){return this.$store.state.isDark},focus:function(){return this.$store.state.map.focus},isVisible:{get:function(){return this.isDialog},set:function(){return this.closeDialog()}},isFormUncomplete:function(){var t=this,e=Object.keys(this.form).filter((function(e){return!t.form[e]}));return!(!e.length&&this.catchaVerified)},customDialogClass:function(){return this.dark?"custom-dialog dark":"custom-dialog light"}},methods:{handleCatchaVerification:function(t){t&&(this.catchaVerified=!0)},setFile:function(t){this.fileSelected=!1,this.form.file=t,this.fileSelected=!0},submitForm:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isSendingData=!0,e.t1=o["b"],e.t2=s["a"],e.t3=s["a"],e.next=6,t.$auth.getUserID();case 6:return e.t4=e.sent,e.t5={user_id:e.t4},e.t6=t.form,e.t7=(0,e.t3)(e.t5,e.t6),e.t8={},e.t9={element:t.focus.id,t:Object(f["a"])(t.focus.type)},e.t10=(0,e.t2)(e.t7,e.t8,e.t9),e.next=15,(0,e.t1)(e.t10);case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0={t:"error"};case 18:i=e.t0,a=i.t,"error"!=a&&t.closeDialog(),t.isSendingData=!1;case 22:case"end":return e.stop()}}),e)})))()},closeDialog:function(){return this.form={information:"",file:""},this.$emit("close")}}},d=u,m=i("2877"),p=Object(m["a"])(d,a,r,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0cc681.ab764a98.js.map